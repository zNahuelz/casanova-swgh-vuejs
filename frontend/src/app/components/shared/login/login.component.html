<main class="d-flex justify-content-center align-items-center bg-secondary-subtle"
      style="height: 100vh; overflow: hidden;">
  <div class="container-fluid px-0">
    <div class="row justify-content-center mx-0">
      <div class="card col-12 col-md-3 col-lg-3 border-success px-0">
        <div class="card-header bg-success bg-gradient text-white text-center fw-bold p-2">
          <i class="bi bi-person-bounding-box"></i> INICIO DE SESIÓN
        </div>
        <div class="card-body">
          <form class="form flex flex-center" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
            <div class="container text-center mb-3">
              <img ngSrc="assets/images/logo_transparent.png" width="160" height="160" priority>
            </div>
            <div class="row ms-3 me-3">
              <mat-form-field class="form-field mb-2" appearance="outline">
                <mat-label>Usuario</mat-label>
                <input type="text" matInput formControlName="username"/>
                @if (loginForm.get('username')?.hasError('required')) {
                  <mat-error>Debe ingresar su usuario.</mat-error>
                }
                @if (loginForm.get('username')?.hasError('minlength') || loginForm.get('username')?.hasError('maxlength')) {
                  <mat-error>Su usuario debe tener entre 5 y 20 carácteres.</mat-error>
                }
              </mat-form-field>
            </div>
            <div class="row ms-3 me-3">
              <mat-form-field class="form-field" appearance="outline">
                <mat-label>Contraseña</mat-label>
                <input type="password" matInput formControlName="password"/>
                @if (loginForm.get('password')?.hasError('required')) {
                  <mat-error>Debe ingresar su contraseña.</mat-error>
                }
                @if (loginForm.get('password')?.hasError('minlength') || loginForm.get('password')?.hasError('maxlength')) {
                  <mat-error>La contraseña debe tener entre 5 y 20 carácteres.</mat-error>
                }
              </mat-form-field>
            </div>
            <div class="row me-3 ms-3 mb-2">
              <mat-checkbox formControlName="rememberMe">Recuérdame</mat-checkbox>
            </div>
            <div class="row me-3 ms-3">
              <div class="col text-center">
                <button mat-fab extended [disabled]="submitting" class="me-3 text-dark"  type="button">
                  <mat-icon>restart_alt</mat-icon>
                  Limpiar
                </button>
                <button mat-fab extended [disabled]="loginForm.invalid || submitting" class="text-dark" type="submit">
                  <mat-icon>login</mat-icon>
                  @if (submitting) {
                    Cargando...
                  } @else {
                    Continuar
                  }
                </button>

              </div>
            </div>
            <div class="row mt-2 text-center">
              <span class="text-danger" >¿Olvidó su contraseña? Click aquí</span>
            </div>
          </form>
        </div>
          <div class="card-footer text-dark text-center">
            Por favor, ingrese sus credenciales de acceso.
          </div>
      </div>
    </div>
  </div>
</main>
